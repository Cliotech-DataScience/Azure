{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "puDataFactory"
		},
		"BI_Events_blob_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "*.parquet"
		},
		"BI_Events_blob_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "bi-db/fact_events"
		},
		"BI_Logins_By_Country_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "*.parquet"
		},
		"BI_Logins_By_Country_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "bi-db/mrr_logins_by_country"
		},
		"BI_Serials_blob_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "*.parquet"
		},
		"BI_Serials_blob_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "bi-db/dim_serials"
		},
		"Blob_Contacts_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@CONCAT('Contacts_', pipeline().RunId, '.csv')"
		},
		"Blob_Contacts_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/Contacts"
		},
		"Blob_Serials_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@CONCAT('Serials', pipeline().RunId, '.csv')"
		},
		"Blob_Serials_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/Serials"
		},
		"Communication_blob_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@CONCAT('Communication_', pipeline().TriggerTime, '.csv.bz2')"
		},
		"Communication_blob_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "@concat('rawdata/Communication/Received=',utcnow('s'))"
		},
		"DWH_Dim_Customers_blob_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@CONCAT('Customers_', pipeline().RunId, '.csv')"
		},
		"DWH_Dim_Customers_blob_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/Customers"
		},
		"blob_EMERP_Events_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@CONCAT('EMERP_Events', pipeline().RunId, '.csv')"
		},
		"blob_EMERP_Events_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/EMERP_Events"
		},
		"blob_Fact_Transactions_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@CONCAT('test_pu-', pipeline().RunId, '.txt')"
		},
		"blob_Fact_Transactions_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/Fact_Transactions"
		},
		"blob_customers_clustering_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "*.csv"
		},
		"blob_customers_clustering_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "@concat('rawdata/export_file/customers_clustering/',dataset().folder_name)"
		},
		"blob_customers_clustering_folder_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": ""
		},
		"blob_customers_clustering_folder_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "@concat('rawdata/export_file/customers_clustering/',dataset().folder_name)"
		},
		"blob_customers_clustering_folder_hd_file_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "dataset().folder_name"
		},
		"blob_customers_clustering_folder_hd_file_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/export_file/customers_clustering/"
		},
		"blob_customers_clustering_json_file_list_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "*.json"
		},
		"blob_customers_clustering_json_file_list_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/export_file/customers_clustering/file_list.json"
		},
		"blob_platfrom_merge_file_des_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@dataset().file_name"
		},
		"blob_platfrom_merge_file_des_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/platfrom_merged_by_day"
		},
		"blob_platfrom_unzip_file_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "@dataset().folder_name"
		},
		"blob_platfrom_unzip_file_1_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@dataset().file_name"
		},
		"blob_platfrom_unzip_file_1_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "@dataset().folder_name"
		},
		"blob_serials_row_folder_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "*.csv"
		},
		"blob_serials_row_folder_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/Serials/"
		},
		"dwh_Customer_Questionnaires_blob_properties_typeProperties_fileName": {
			"type": "string",
			"defaultValue": "@CONCAT('Customer_Questionnaires_', pipeline().TriggerTime, '.csv.bz2')"
		},
		"dwh_Customer_Questionnaires_blob_properties_typeProperties_folderPath": {
			"type": "string",
			"defaultValue": "rawdata/Customer_Questionnaires/"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/AzureSQL_Logins_By_Country')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase_events",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "BI"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"structure": [
					{
						"name": "Event_date_Day",
						"type": "Date"
					},
					{
						"name": "AccountNumber",
						"type": "Int32"
					},
					{
						"name": "Broker",
						"type": "String"
					},
					{
						"name": "Folder",
						"type": "String"
					},
					{
						"name": "FolderType",
						"type": "String"
					},
					{
						"name": "Login_From_Country",
						"type": "String"
					},
					{
						"name": "CustomerCountry",
						"type": "String"
					},
					{
						"name": "AMLComplianceStatus",
						"type": "String"
					},
					{
						"name": "Sessions",
						"type": "Int32"
					}
				],
				"typeProperties": {
					"tableName": "[[Reports].[Logins_By_Country]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/BI_Events_blob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "dwhdb_blob",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "BI"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "Event_Date_day",
						"type": "DateTime"
					},
					{
						"name": "Source",
						"type": "String"
					},
					{
						"name": "Event_Name",
						"type": "String"
					},
					{
						"name": "Event_Details",
						"type": "String"
					},
					{
						"name": "Event_Count",
						"type": "Int64"
					}
				],
				"typeProperties": {
					"format": {
						"type": "ParquetFormat"
					},
					"fileName": "[parameters('BI_Events_blob_properties_typeProperties_fileName')]",
					"folderPath": "[parameters('BI_Events_blob_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/BI_Logins_By_Country')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "dwhdb_blob",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "BI"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "Event_date_Day",
						"type": "DateTime"
					},
					{
						"name": "AccountNumber",
						"type": "Int64"
					},
					{
						"name": "Broker",
						"type": "String"
					},
					{
						"name": "Folder",
						"type": "String"
					},
					{
						"name": "FolderType",
						"type": "String"
					},
					{
						"name": "Login_From_Country",
						"type": "String"
					},
					{
						"name": "CustomerCountry",
						"type": "String"
					},
					{
						"name": "AMLComplianceStatus",
						"type": "String"
					},
					{
						"name": "Sessions",
						"type": "Int64"
					}
				],
				"typeProperties": {
					"format": {
						"type": "ParquetFormat"
					},
					"fileName": "[parameters('BI_Logins_By_Country_properties_typeProperties_fileName')]",
					"folderPath": "[parameters('BI_Logins_By_Country_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/BI_Serials_blob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "dwhdb_blob",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "BI"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "Serial",
						"type": "Int64"
					},
					{
						"name": "Client_Id",
						"type": "String"
					},
					{
						"name": "Client_Numerator",
						"type": "Int32"
					},
					{
						"name": "Client_Name",
						"type": "String"
					},
					{
						"name": "Product_Numerator",
						"type": "Int32"
					},
					{
						"name": "Product_Name",
						"type": "String"
					},
					{
						"name": "Product_Full_Name",
						"type": "String"
					},
					{
						"name": "Campaign_Numerator",
						"type": "Int32"
					},
					{
						"name": "Campaign_Name",
						"type": "String"
					},
					{
						"name": "Targetmarket_Id",
						"type": "Int32"
					},
					{
						"name": "Targetmarket",
						"type": "String"
					},
					{
						"name": "Supplier_Numerator",
						"type": "Int32"
					},
					{
						"name": "Supplier",
						"type": "String"
					},
					{
						"name": "Supplier_Group",
						"type": "String"
					},
					{
						"name": "Mediabuyer_Numerator",
						"type": "Int32"
					},
					{
						"name": "Mediabuyer",
						"type": "String"
					},
					{
						"name": "Format",
						"type": "String"
					},
					{
						"name": "Site_Numerator",
						"type": "Int32"
					},
					{
						"name": "Site_Name",
						"type": "String"
					},
					{
						"name": "Proposition_Id",
						"type": "Int32"
					},
					{
						"name": "Proposition",
						"type": "String"
					},
					{
						"name": "Banner_Name",
						"type": "String"
					},
					{
						"name": "Banner_Path",
						"type": "String"
					},
					{
						"name": "TypeExt",
						"type": "String"
					},
					{
						"name": "Landing_Page",
						"type": "String"
					},
					{
						"name": "Language",
						"type": "String"
					},
					{
						"name": "SelfActivation",
						"type": "Int32"
					},
					{
						"name": "Content",
						"type": "String"
					},
					{
						"name": "Charge_Unit_Id",
						"type": "Int32"
					},
					{
						"name": "Charge_Unit_Name",
						"type": "String"
					},
					{
						"name": "Landing_Page_Numerator",
						"type": "Int32"
					},
					{
						"name": "Creative_Logical_Name",
						"type": "String"
					},
					{
						"name": "serial_details",
						"type": "String"
					}
				],
				"typeProperties": {
					"format": {
						"type": "ParquetFormat"
					},
					"fileName": "[parameters('BI_Serials_blob_properties_typeProperties_fileName')]",
					"folderPath": "[parameters('BI_Serials_blob_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Blob_Contacts')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String",
						"defaultValue": "Dim_AccountContacts"
					}
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": "\u0001",
						"rowDelimiter": "\n",
						"nullValue": "\\N",
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": {
						"value": "[parameters('Blob_Contacts_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": "[parameters('Blob_Contacts_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Blob_Serials')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String",
						"defaultValue": "Dim_AccountContacts"
					}
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": "\u0001",
						"rowDelimiter": "\n",
						"nullValue": "\\N",
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": {
						"value": "[parameters('Blob_Serials_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": "[parameters('Blob_Serials_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Communication_blob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "DataloadStore",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "DWH"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "MessageID",
						"type": "Int32"
					},
					{
						"name": "Event_Date",
						"type": "DateTime"
					},
					{
						"name": "details",
						"type": "String"
					}
				],
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": "\t",
						"rowDelimiter": "",
						"quoteChar": "",
						"nullValue": "\\N",
						"encodingName": null,
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": false
					},
					"compression": {
						"type": "BZip2"
					},
					"fileName": {
						"value": "[parameters('Communication_blob_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": {
						"value": "[parameters('Communication_blob_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Customers_Models_Data_old')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabase_events",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"structure": [
					{
						"name": "AccountNumber",
						"type": "Int32"
					},
					{
						"name": "Broker",
						"type": "String"
					}
				],
				"typeProperties": {
					"tableName": "Customers_Models_Data"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DWH_Dim_Customers_blob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String",
						"defaultValue": "Dim_AccountContacts"
					}
				},
				"folder": {
					"name": "DWH"
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": "\u0001",
						"rowDelimiter": "\n",
						"nullValue": "\\N",
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": {
						"value": "[parameters('DWH_Dim_Customers_blob_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": "[parameters('DWH_Dim_Customers_blob_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_EMERP_Events')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String",
						"defaultValue": "EMERP_Events"
					}
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": "\u0001",
						"rowDelimiter": "\n",
						"nullValue": "\\N",
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": {
						"value": "[parameters('blob_EMERP_Events_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": "[parameters('blob_EMERP_Events_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_Fact_Transactions')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String",
						"defaultValue": "Fact_Transactions"
					}
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": ",",
						"rowDelimiter": "",
						"nullValue": "\\N",
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": {
						"value": "[parameters('blob_Fact_Transactions_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": "[parameters('blob_Fact_Transactions_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_customers_clustering')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String"
					}
				},
				"folder": {
					"name": "sync"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "AccountNumber",
						"type": "String"
					},
					{
						"name": "cluster_type",
						"type": "String"
					},
					{
						"name": "update_date",
						"type": "String"
					}
				],
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": ",",
						"rowDelimiter": "",
						"nullValue": "\\N",
						"encodingName": null,
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": {
						"value": "[parameters('blob_customers_clustering_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": {
						"value": "[parameters('blob_customers_clustering_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_customers_clustering_folder')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String"
					}
				},
				"folder": {
					"name": "sync"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "AccountNumber",
						"type": "String"
					},
					{
						"name": "cluster_type",
						"type": "String"
					},
					{
						"name": "update_date",
						"type": "String"
					}
				],
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": ",",
						"rowDelimiter": "",
						"nullValue": "\\N",
						"encodingName": null,
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": "[parameters('blob_customers_clustering_folder_properties_typeProperties_fileName')]",
					"folderPath": {
						"value": "[parameters('blob_customers_clustering_folder_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_customers_clustering_folder_hd_file')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String"
					}
				},
				"folder": {
					"name": "sync"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "AccountNumber",
						"type": "String"
					},
					{
						"name": "cluster_type",
						"type": "String"
					},
					{
						"name": "update_date",
						"type": "String"
					}
				],
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": ",",
						"rowDelimiter": "",
						"nullValue": "\\N",
						"encodingName": null,
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": "[parameters('blob_customers_clustering_folder_hd_file_properties_typeProperties_fileName')]",
					"folderPath": {
						"value": "[parameters('blob_customers_clustering_folder_hd_file_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_customers_clustering_json_file_list')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "sync"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "file",
						"type": "String"
					}
				],
				"typeProperties": {
					"format": {
						"type": "JsonFormat",
						"filePattern": "setOfObjects",
						"jsonPathDefinition": {
							"file": "$.['_1']"
						}
					},
					"fileName": "[parameters('blob_customers_clustering_json_file_list_properties_typeProperties_fileName')]",
					"folderPath": "[parameters('blob_customers_clustering_json_file_list_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_platfrom_merge_file_des')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"file_name": {
						"type": "String"
					}
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": " ",
						"rowDelimiter": "\n",
						"quoteChar": "\"",
						"nullValue": "\\N",
						"encodingName": null,
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": false
					},
					"fileName": {
						"value": "[parameters('blob_platfrom_merge_file_des_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": "[parameters('blob_platfrom_merge_file_des_properties_typeProperties_folderPath')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_platfrom_unzip_file')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String"
					},
					"file_name": {
						"type": "String"
					}
				},
				"folder": {
					"name": "Platform Usage"
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "ip",
						"type": "String"
					},
					{
						"name": "hyphen_1",
						"type": "String"
					},
					{
						"name": "hyphen_2",
						"type": "String"
					},
					{
						"name": "datetime",
						"type": "String"
					},
					{
						"name": "time",
						"type": "String"
					},
					{
						"name": "url_parm",
						"type": "String"
					},
					{
						"name": "Prop_6",
						"type": "String"
					},
					{
						"name": "Prop_7",
						"type": "String"
					},
					{
						"name": "server",
						"type": "String"
					},
					{
						"name": "user_agent",
						"type": "String"
					},
					{
						"name": "log_parm",
						"type": "String"
					}
				],
				"typeProperties": {
					"folderPath": {
						"value": "[parameters('blob_platfrom_unzip_file_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_platfrom_unzip_file_1')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"folder_name": {
						"type": "String"
					},
					"file_name": {
						"type": "String"
					}
				},
				"annotations": [],
				"type": "AzureBlob",
				"structure": [
					{
						"name": "ip",
						"type": "String"
					},
					{
						"name": "hyphen_1",
						"type": "String"
					},
					{
						"name": "hyphen_2",
						"type": "String"
					},
					{
						"name": "datetime",
						"type": "String"
					},
					{
						"name": "time",
						"type": "String"
					},
					{
						"name": "url_parm",
						"type": "String"
					},
					{
						"name": "Prop_6",
						"type": "String"
					},
					{
						"name": "Prop_7",
						"type": "String"
					},
					{
						"name": "server",
						"type": "String"
					},
					{
						"name": "user_agent",
						"type": "String"
					},
					{
						"name": "log_parm",
						"type": "String"
					}
				],
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": " ",
						"rowDelimiter": "\n",
						"quoteChar": "\"",
						"nullValue": "\\N",
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": false
					},
					"fileName": {
						"value": "[parameters('blob_platfrom_unzip_file_1_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": {
						"value": "[parameters('blob_platfrom_unzip_file_1_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/blob_serials_row_folder')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureBlobStorage1",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "DWH"
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": ",",
						"rowDelimiter": "",
						"nullValue": "\\N",
						"encodingName": null,
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": true
					},
					"fileName": "[parameters('blob_serials_row_folder_properties_typeProperties_fileName')]",
					"folderPath": {
						"value": "[parameters('blob_serials_row_folder_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dwh_Customer_Questionnaires_blob')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "DataloadStore",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "DWH"
				},
				"annotations": [],
				"type": "AzureBlob",
				"typeProperties": {
					"format": {
						"type": "TextFormat",
						"columnDelimiter": "\t",
						"rowDelimiter": "",
						"quoteChar": "",
						"nullValue": "\\N",
						"encodingName": null,
						"treatEmptyAsNull": true,
						"skipLineCount": 0,
						"firstRowAsHeader": false
					},
					"compression": {
						"type": "BZip2"
					},
					"fileName": {
						"value": "[parameters('dwh_Customer_Questionnaires_blob_properties_typeProperties_fileName')]",
						"type": "Expression"
					},
					"folderPath": {
						"value": "[parameters('dwh_Customer_Questionnaires_blob_properties_typeProperties_folderPath')]",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		}
	]
}